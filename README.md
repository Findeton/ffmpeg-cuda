based on http://dranger.com/ffmpeg/ffmpeg.html